<body class="gradient-bg text-gray-100 min-h-screen flex overflow-hidden">
    <!-- Sidebar -->
    <div class="sidebar-bg w-64 min-h-screen fixed hidden md:flex flex-col border-r border-gray-700 z-50">
        <div class="p-6 flex items-center space-x-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path d="M12 14l9-5-9-5-9 5 9 5z" />
                <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222" />
            </svg>
            <span class="text-2xl font-bold text-gradient">EduTech</span>
        </div>
        
        <div class="flex-1 overflow-y-auto px-4 py-6">
            <!-- User Profile -->
            <div class="flex items-center space-x-4 p-4 mb-6 rounded-lg bg-gray-700 bg-opacity-50 animate__animated animate__fadeIn">
                <div class="relative">
                    <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Profile" class="w-12 h-12 rounded-full object-cover border-2 border-blue-500">
                    <span class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-gray-800"></span>
                </div>
                <div>
                    <h4 class="font-semibold">Marie Dupont</h4>
                    <p class="text-sm text-gray-400">Étudiante</p>
                </div>
            </div>
            
            <!-- Course Progress -->
            <div class="p-4 bg-gray-700 bg-opacity-50 rounded-lg mb-6">
                <h4 class="font-medium mb-3 flex justify-between">
                    <span>Progression du cours</span>
                    <span class="text-blue-400">65%</span>
                </h4>
                <div class="w-full bg-gray-600 rounded-full h-2">
                    <div class="bg-blue-500 h-2 rounded-full" style="width: 65%"></div>
                </div>
                <p class="text-xs text-gray-400 mt-2">13/20 leçons complétées</p>
                
                <div class="mt-4 pt-4 border-t border-gray-600">
                    <h4 class="font-medium mb-2">Maîtrise de JavaScript Moderne</h4>
                    <p class="text-xs text-gray-400">Leçon actuelle: 3.2 Fonctions fléchées</p>
                </div>
            </div>
            
            <!-- Course Navigation -->
            <div class="space-y-2">
                <h4 class="font-medium px-4 py-2">Navigation du cours</h4>
                
                <a href="#" class="menu-item flex items-center space-x-3 px-4 py-3 rounded-lg" (click)="continueLesson()">
                    <i class="fas fa-play-circle text-blue-400 w-5"></i>
                    <span>Continuer la leçon</span>
                </a>
                
                <a href="#" class="menu-item flex items-center space-x-3 px-4 py-3 rounded-lg" (click)="navigateTo('modules')">
                    <i class="fas fa-list-ol text-purple-400 w-5"></i>
                    <span>Voir tous les modules</span>
                </a>
                
                <a href="#" class="menu-item flex items-center space-x-3 px-4 py-3 rounded-lg" (click)="downloadResources()">
                    <i class="fas fa-download text-green-400 w-5"></i>
                    <span>Télécharger les ressources</span>
                </a>
                
                <a href="#" class="menu-item flex items-center space-x-3 px-4 py-3 rounded-lg" (click)="askQuestion()">
                    <i class="fas fa-question-circle text-yellow-400 w-5"></i>
                    <span>Poser une question</span>
                </a>
            </div>
        </div>
        
        <!-- Logout -->
        <div class="p-4 border-t border-gray-700">
            <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-400 hover:text-white hover:bg-gray-700 transition-colors" (click)="quitCourse()">
                <i class="fas fa-sign-out-alt w-5"></i>
                <span>Quitter le cours</span>
            </a>
        </div>
    </div>

    <!-- Mobile sidebar backdrop -->
    <div id="sidebarBackdrop" class="fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden" [class.hidden]="!isSidebarOpen"></div>

    <!-- Main Content -->
    <div class="flex-1 flex flex-col overflow-hidden md:ml-64">
        <!-- Navbar -->
        <header class="bg-gray-800 bg-opacity-90 backdrop-filter backdrop-blur-lg border-b border-gray-700 z-40">
            <div class="flex items-center justify-between px-6 py-3">
                <!-- Mobile menu button -->
                <button id="sidebarToggle" class="md:hidden text-gray-400 hover:text-white focus:outline-none" (click)="toggleSidebar()">
                    <i class="fas fa-bars text-xl"></i>
                </button>
                
                <!-- Breadcrumb -->
                <div class="flex-1 mx-4">
                    <nav class="flex" aria-label="Breadcrumb">
                        <ol class="flex items-center space-x-2 text-sm">
                            <li>
                                <a href="#" class="text-gray-400 hover:text-white" (click)="navigateTo('courses')">Mes cours</a>
                            </li>
                            <li class="flex items-center">
                                <span class="text-gray-600 mx-2">/</span>
                                <a href="#" class="text-gray-400 hover:text-white" (click)="navigateTo('course/javascript-moderne')">JavaScript Moderne</a>
                            </li>
                            <li class="flex items-center">
                                <span class="text-gray-600 mx-2">/</span>
                                <a href="#" class="text-blue-400">Fonctions fléchées</a>
                            </li>
                        </ol>
                    </nav>
                </div>
                
                <!-- Right buttons -->
                <div class="flex items-center space-x-4">
                    <button class="text-gray-400 hover:text-white relative" (click)="askQuestion()">
                        <i class="fas fa-question-circle text-xl"></i>
                    </button>
                    
                    <button class="text-gray-400 hover:text-white" (click)="openSettings()">
                        <i class="fas fa-cog text-xl"></i>
                    </button>
                    
                    <div class="relative">
                        <button id="userMenuButton" class="flex items-center space-x-2 focus:outline-none" (click)="toggleUserMenu()">
                            <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Profile" class="w-8 h-8 rounded-full border-2 border-blue-500">
                        </button>
                        <div id="userMenu" class="absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-50 border border-gray-700" [class.hidden]="!isUserMenuOpen">
                            <a href="#" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700" (click)="navigateTo('account')">Mon compte</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700" (click)="openSettings()">Paramètres</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700" (click)="quitCourse()">Déconnexion</a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-1 overflow-y-auto p-6">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Video Player Section -->
                <div class="lg:col-span-2 space-y-6">
                    <!-- Video Player -->
                    <div class="video-container bg-black animate__animated animate__fadeIn">
                        <div class="relative aspect-video">
                            <!-- Video Player -->
                            <video class="w-full h-full" poster="https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" #courseVideo>
                                <source src="#" type="video/mp4">
                                Votre navigateur ne supporte pas la lecture de vidéos.
                            </video>
                            
                            <!-- Video Controls -->
                            <div class="video-controls absolute bottom-0 left-0 right-0 p-4 text-white opacity-0 hover:opacity-100 transition-opacity">
                                <!-- Progress Bar -->
                                <div class="progress-bar mb-3" (click)="seekVideo($event)">
                                    <div class="progress-bar-fill" [style.width]="progressPercent + '%'"></div>
                                </div>
                                
                                <!-- Control Buttons -->
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-4">
                                        <button class="control-btn play-pause" (click)="playPause()">
                                            <i class="fas" [ngClass]="videoPlaying ? 'fa-pause' : 'fa-play'" class="text-xl"></i>
                                        </button>
                                        <button class="control-btn rewind" (click)="rewind()">
                                            <i class="fas fa-undo text-lg"></i>
                                        </button>
                                        <button class="control-btn forward" (click)="forward()">
                                            <i class="fas fa-redo text-lg"></i>
                                        </button>
                                        
                                        <div class="text-sm">
                                            <span class="current-time">{{ currentTime }}</span> / 
                                            <span class="duration">{{ duration }}</span>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-center space-x-4">
                                        <div class="relative playback-speed">
                                            <button class="control-btn speed-toggle" (click)="toggleSpeedMenu()">
                                                <span class="speed-text">{{ playbackSpeed }}x</span>
                                            </button>
                                            <div class="playback-speed-menu absolute bottom-full right-0 mb-2 bg-gray-800 rounded-lg p-2 shadow-lg" [class.active]="isSpeedMenuOpen">
                                                <div class="space-y-1">
                                                    <button *ngFor="let speed of playbackSpeeds" class="w-full text-left px-3 py-1 text-sm hover:bg-gray-700 rounded" (click)="setPlaybackSpeed(speed)">{{ speed }}x</button>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <button class="control-btn subtitles" (click)="toggleSubtitles()">
                                            <i class="fas fa-closed-captioning"></i>
                                            <span class="subtitle-indicator absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full" [class.active]="subtitlesOn"></span>
                                        </button>
                                        
                                        <button class="control-btn volume" (click)="toggleVolume()">
                                            <i class="fas" [ngClass]="videoMuted ? 'fa-volume-mute' : 'fa-volume-up'"></i>
                                        </button>
                                        
                                        <button class="control-btn fullscreen" (click)="toggleFullscreen()">
                                            <i class="fas" [ngClass]="isFullscreen ? 'fa-compress' : 'fa-expand'"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Lesson Info -->
                    <div class="bg-gray-800 bg-opacity-50 rounded-xl p-6 card-hover">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <span class="bg-blue-900 bg-opacity-50 text-blue-400 text-xs px-2 py-1 rounded">Module 3: ES6+</span>
                                <h2 class="text-2xl font-bold mt-2">3.2 Fonctions fléchées</h2>
                            </div>
                            <div class="flex items-center space-x-2">
                                <button class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors" (click)="bookmarkLesson()">
                                    <i class="far fa-bookmark mr-2"></i> Marquer
                                </button>
                                <button class="bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors" (click)="markAsCompleted()">
                                    <i class="fas fa-check-circle mr-2"></i> Marquer comme terminé
                                </button>
                            </div>
                        </div>
                        
                        <p class="text-gray-300 mb-6">
                            Les fonctions fléchées (arrow functions) introduites dans ES6 offrent une syntaxe concise pour écrire des fonctions en JavaScript.
                            Elles ont également un comportement particulier avec le mot-clé `this`.
                        </p>
                        
                        <div class="flex items-center text-sm text-gray-400">
                            <i class="far fa-clock mr-2"></i>
                            <span>Durée: 22 minutes</span>
                            <span class="mx-3">•</span>
                            <i class="far fa-calendar mr-2"></i>
                            <span>Ajouté le 15 mai 2023</span>
                        </div>
                    </div>
                    
                    <!-- Tabs Navigation -->
                    <div class="bg-gray-800 bg-opacity-50 rounded-xl p-1 mb-6 flex flex-wrap">
                        <button *ngFor="let tab of tabs" class="tab-button px-6 py-3 text-sm font-medium" [class.active]="activeTab === tab" (click)="setActiveTab(tab)">{{ tab }}</button>
                    </div>
                    
                    <!-- Resources Tab Content -->
                    <div class="bg-gray-800 bg-opacity-50 rounded-xl p-6 card-hover">
                        <h3 class="text-lg font-bold mb-4">Ressources de la leçon</h3>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div *ngFor="let resource of resources" class="resource-card bg-gray-700 rounded-lg p-4">
                                <div class="flex items-center mb-3">
                                    <div [ngClass]="resource.iconBgClass" class="p-2 rounded-lg mr-3">
                                        <i [ngClass]="resource.iconClass"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-medium">{{ resource.name }}</h4>
                                        <p class="text-xs text-gray-400">{{ resource.type }}</p>
                                    </div>
                                </div>
                                <button class="w-full bg-gray-600 hover:bg-gray-500 text-white py-2 rounded-lg transition-colors text-sm" (click)="downloadResource(resource)">
                                    <i class="fas" [ngClass]="resource.buttonIcon" class="mr-2"></i> {{ resource.buttonText }}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Lessons Sidebar -->
                <div class="lg:col-span-1">
                    <div class="sticky top-6 space-y-6">
                        <!-- Course Progress -->
                        <div class="bg-gray-800 bg-opacity-50 rounded-xl p-6 card-hover">
                            <h3 class="text-lg font-bold mb-4">Progression du cours</h3>
                            
                            <div class="mb-6">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-gray-400">Global</span>
                                    <span class="text-blue-400">65%</span>
                                </div>
                                <div class="w-full bg-gray-700 rounded-full h-3">
                                    <div class="bg-blue-600 h-3 rounded-full" style="width: 65%"></div>
                                </div>
                            </div>
                            
                            <div class="mb-6">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-gray-400">Module actuel</span>
                                    <span class="text-green-400">40%</span>
                                </div>
                                <div class="w-full bg-gray-700 rounded-full h-3">
                                    <div class="bg-green-600 h-3 rounded-full" style="width: 40%"></div>
                                </div>
                            </div>
                            
                            <div class="flex items-center justify-between text-sm">
                                <div class="flex items-center text-green-400">
                                    <i class="fas fa-check-circle mr-2"></i>
                                    <span>13 leçons terminées</span>
                                </div>
                                <div class="text-gray-400">
                                    7 restantes
                                </div>
                            </div>
                        </div>
                        
                        <!-- Lessons List -->
                        <div class="bg-gray-800 bg-opacity-50 rounded-xl p-6 card-hover">
                            <h3 class="text-lg font-bold mb-4">Modules et leçons</h3>
                            
                            <div class="space-y-4">
                                <div *ngFor="let module of modules">
                                    <div class="flex items-center justify-between mb-2">
                                        <h4 class="font-medium" [ngClass]="{'text-blue-400': module.isCurrent}">{{ module.title }}</h4>
                                        <span class="text-xs" [ngClass]="{'text-blue-400': module.isCurrent, 'text-green-400': module.percent === 100, 'text-gray-400': module.percent === 0}">{{ module.percent }}%</span>
                                    </div>
                                    <div class="space-y-2">
                                        <div *ngFor="let lesson of module.lessons" class="lesson-item p-2 rounded" [ngClass]="{'completed': lesson.completed, 'active': lesson.isActive}">
                                            <div class="flex items-center justify-between">
                                                <div class="flex items-center">
                                                    <i class="fas fa-check-circle text-green-400 mr-3" *ngIf="lesson.completed"></i>
                                                    <i class="fas fa-play-circle text-blue-400 mr-3 pulse" *ngIf="lesson.isActive && !lesson.completed"></i>
                                                    <i class="far fa-circle text-gray-400 mr-3" *ngIf="!lesson.completed && !lesson.isActive"></i>
                                                    <span class="lesson-title">{{ lesson.title }}</span>
                                                </div>
                                                <span class="text-xs text-gray-400">{{ lesson.duration }}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Instructor Info -->
                        <div class="bg-gray-800 bg-opacity-50 rounded-xl p-6 card-hover">
                            <h3 class="text-lg font-bold mb-4">Votre instructeur</h3>
                            <div class="flex items-center mb-4">
                                <img [src]="instructor.avatar" alt="Instructor" class="w-12 h-12 rounded-full mr-4">
                                <div>
                                    <h4 class="font-semibold">{{ instructor.name }}</h4>
                                    <p class="text-sm text-gray-400">{{ instructor.title }}</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">{{ instructor.bio }}</p>
                            <button class="w-full bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg transition-colors text-sm" (click)="askQuestion()">
                                <i class="fas fa-envelope mr-2"></i> Poser une question
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>